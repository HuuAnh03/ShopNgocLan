/* --- BIẾN MÀU SẮC & FONT (PHONG CÁCH ACCOUNT) --- */
:root {
    --font-body: 'Inter', sans-serif;
    --primary-color: #000000;
    --border-color: #f0f0f0;
    --bg-light: #f9f9f9;
    --text-dark: #111111;
    --text-light: #767676;
    --white: #ffffff;
    --radius-md: 8px;
    /* ========== MÀU TRẠNG THÁI (8 Trạng thái) ========== */
    /* 1. Bắt đầu / Chờ */
    --status-awaiting-bg: #fffbe6; /* Vàng kem nhạt (Chờ TT Online) */
    --status-awaiting-text: #f0a300;
    --status-pending-bg: #e6f7ff; /* Xanh dương nhạt (Chờ xác nhận COD) */
    --status-pending-text: #007bff;
    /* 2. Đang tiến hành */
    --status-confirmed-bg: #e8f5e9; /* Xanh lá nhạt (Đã xác nhận) */
    --status-confirmed-text: #4caf50;
    --status-processing-bg: #f3e5f5; /* Tím nhạt (Đang xử lý) */
    --status-processing-text: #9c27b0;
    --status-shipped-bg: #e6f7ff; /* Xanh dương nhạt (Đang giao) */
    --status-shipped-text: #17a2b8;
    /* 3. Kết thúc */
    --status-delivered-bg: #c3e6cb; /* Xanh lá đậm hơn (Hoàn thành) */
    --status-delivered-text: #1e7e34;
    --status-failed-bg: #f8d7da; /* Đỏ nhạt (Thanh toán thất bại) */
    --status-failed-text: #dc3545;
    --status-cancelled-bg: #f0f0f0; /* Xám nhạt (Đã hủy) */
    --status-cancelled-text: #6c757d;
}

/* --- BỐ CỤC CHUNG CỦA TRANG TÀI KHOẢN --- */
.account-container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 20px;
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 30px;
    font-family: var(--font-body);
}

/* --- MENU ĐIỀU HƯỚNG BÊN TRÁI --- */
.account-nav {
    background: var(--white);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    height: fit-content;
}

    .account-nav h3 {
        font-size: 1rem;
        font-weight: 600;
        color: var(--text-light);
        text-transform: uppercase;
        margin: 0 0 1rem 0;
        letter-spacing: 0.5px;
    }

.account-nav-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

    .account-nav-list a {
        display: block;
        padding: 0.85rem 1rem;
        text-decoration: none;
        color: var(--text-dark);
        font-weight: 600;
        font-size: 1rem;
        border-radius: var(--radius-md);
        transition: background-color 0.2s, color 0.2s;
    }

        .account-nav-list a:hover {
            background-color: var(--bg-light);
        }

        .account-nav-list a.active {
            background-color: var(--primary-color);
            color: var(--white);
        }

/* --- NỘI DUNG BÊN PHẢI (TRANG DANH SÁCH HÓA ĐƠN) --- */
.account-content {
    background: var(--white);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 2rem;
}

    .account-content .content-header {
        font-size: 1.75rem;
        font-weight: 700;
        margin: 0 0 2rem 0;
        padding-bottom: 1.5rem;
        border-bottom: 1px solid var(--border-color);
    }

.order-history-table {
    width: 100%;
    border-collapse: collapse;
}

    .order-history-table th {
        text-align: left;
        padding: 0.6rem 0.8rem; /* Đã sửa */
        background-color: var(--bg-light);
        color: var(--text-light);
        font-size: 0.8rem; /* Đã sửa */
        font-weight: 600;
        text-transform: uppercase;
    }

    .order-history-table td {
        padding: 0.75rem 0.8rem; /* Đã sửa */
        border-bottom: 1px solid var(--border-color);
        vertical-align: middle;
        font-size: 0.85rem; /* Đã sửa */
    }

        /* Thêm style để giảm kích thước chữ đậm trong cột tiền/mã ĐH */
        .order-history-table td strong {
            font-size: 0.9rem; /* Giảm kích thước chữ mạnh */
        }

    .order-history-table tr:last-child td {
        border-bottom: none;
    }

/* === HUY HIỆU TRẠNG THÁI === */
.status-badge {
    font-size: 0.65rem; /* Đã sửa */
    font-weight: 700;
    padding: 0.3rem 0.6rem; /* Đã sửa */
    border-radius: 50px;
    text-transform: uppercase;
    line-height: 1;
    min-width: 100px; /* Đã sửa */
    border: 1px solid transparent;
    display: inline-block;
}

/* ------------------------------------------------ */
/* ĐỊNH NGHĨA MÀU SẮC THEO STATUS CODE (TỪ RAZOR) */
/* ------------------------------------------------ */

/* AwaitingPayment: Chờ thanh toán trực tuyến (ID 1) */
.status-chothanhtoan {
    background-color: var(--status-awaiting-bg);
    color: var(--status-awaiting-text);
    border-color: var(--status-awaiting-text);
}

/* Pending: Chờ xác nhận (ID 2 - COD) */
.status-pending {
    background-color: var(--status-pending-bg);
    color: var(--status-pending-text);
    border-color: var(--status-pending-text);
}

/* Confirmed: Đã xác nhận (ID 3) */
.status-confirmed {
    background-color: var(--status-confirmed-bg);
    color: var(--status-confirmed-text);
    border-color: var(--status-confirmed-text);
}

/* Processing: Đang xử lý (ID 4) */
.status-processing {
    background-color: var(--status-processing-bg);
    color: var(--status-processing-text);
    border-color: var(--status-processing-text);
}

/* Shipped: Đang giao (ID 5) */
.status-shipped {
    background-color: var(--status-shipped-bg);
    color: var(--status-shipped-text);
    border-color: var(--status-shipped-text);
}

/* Delivered: Hoàn thành (ID 6) */
.status-success, .status-hoan-thanh {
    background-color: var(--status-delivered-bg);
    color: var(--status-delivered-text);
    border-color: var(--status-delivered-text);
}

/* PaymentFailed: Thanh toán thất bại (ID 7) */
.status-failed, .status-thanhtoanthatbai {
    background-color: var(--status-failed-bg);
    color: var(--status-failed-text);
    border-color: var(--status-failed-text);
}

/* Cancelled: Đã hủy (ID 8) */
.status-danger, .status-da-huy {
    background-color: var(--status-cancelled-bg);
    color: var(--status-cancelled-text);
    border-color: var(--status-cancelled-text);
}

/* --- BUTTON XEM CHI TIẾT --- */
.btn-view-details {
    display: inline-block;
    padding: 0.3rem 0.6rem; /* Đã sửa */
    font-size: 0.8rem; /* Giữ nguyên hoặc giảm nhẹ */
    font-weight: 600;
    color: var(--text-dark);
    background-color: var(--white);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all 0.2s ease;
}

    .btn-view-details:hover {
        background-color: var(--primary-color);
        color: var(--white);
        border-color: var(--primary-color);
        transform: scale(1.05);
    }


/* ================================================= */
/* === STYLE CHO TRANG "CHI TIẾT ĐƠN HÀNG" (MỚI) === */
/* ================================================= */

.order-detail-header {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color);
}

    .order-detail-header h1 {
        font-size: 1.75rem;
        font-weight: 700;
        margin: 0;
    }

    .order-detail-header p {
        font-size: 0.95rem;
        color: var(--text-light);
        margin: 0.25rem 0 0 0;
    }

        .order-detail-header p a {
            color: var(--text-dark);
            font-weight: 600;
            text-decoration: none;
        }

            .order-detail-header p a:hover {
                text-decoration: underline;
            }


/* === Thanh tiến độ (Status Tracker) === */
.order-status-tracker {
    display: flex;
    justify-content: space-between;
    margin-bottom: 2.5rem;
    position: relative;
    padding: 0 1rem;
}

    .order-status-tracker::before {
        content: '';
        position: absolute;
        top: 15px;
        left: 0;
        right: 0;
        height: 3px;
        background-color: var(--border-color);
        width: calc(100% - 2rem);
        margin: 0 auto;
        z-index: 1;
    }

.tracker-line {
    position: absolute;
    top: 15px;
    left: 1rem;
    height: 3px;
    background-color: var(--status-delivered-text); /* Sử dụng màu hoàn thành */
    z-index: 2;
    transition: width 0.5s ease;
}

.status-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    z-index: 3;
    position: relative;
}

    .status-step .step-icon {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background-color: var(--border-color);
        color: var(--white);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        font-weight: 700;
        transition: background-color 0.5s ease;
    }

    .status-step .step-label {
        font-size: 0.9rem;
        font-weight: 600;
        color: var(--text-light);
        transition: color 0.5s ease;
    }

    .status-step.active .step-icon {
        background-color: var(--status-delivered-text);
    }

    .status-step.active .step-label {
        color: var(--text-dark);
    }

    .status-step.active .step-icon::before {
        content: '✔';
    }

/* === Bố cục 2 cột cho Chi tiết === */
.order-detail-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 30px;
}

.order-detail-main {
    background: var(--white);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 1.5rem 2rem;
}

    .order-detail-main h2 {
        font-size: 1.25rem;
        font-weight: 700;
        margin: 0 0 1.5rem 0;
    }

/* Cột phải (sidebar) */
.order-detail-sidebar {
    position: sticky;
    top: 20px;
    height: fit-content;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Các box thông tin trong Sidebar */
.summary-card {
    background: var(--bg-light);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 1.5rem;
}

    .summary-card h3 {
        font-size: 1rem;
        font-weight: 700;
        margin: 0 0 1rem 0;
        padding-bottom: 1rem;
        border-bottom: 1px solid var(--border-color);
    }

    .summary-card .summary-line {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.75rem;
        font-size: 0.95rem;
    }

        .summary-card .summary-line span {
            color: var(--text-light);
        }

        .summary-card .summary-line strong {
            font-weight: 600;
            color: var(--text-dark);
        }

        .summary-card .summary-line.total {
            font-size: 1.1rem;
            font-weight: 700;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

    .summary-card p {
        margin: 0;
        line-height: 1.6;
        font-size: 0.95rem;
    }

/* Danh sách sản phẩm (giống giỏ hàng) */
.order-item {
    display: flex;
    align-items: center;
    padding: 1.5rem 0;
    border-bottom: 1px solid var(--border-color);
}

    .order-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
    }

    .order-item:first-of-type {
        padding-top: 0;
    }

    .order-item .item-image img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: var(--radius-md);
        border: 1px solid var(--border-color);
    }

    .order-item .item-details {
        flex-grow: 1;
        margin: 0 1.5rem;
        line-height: 1.5;
    }

    .order-item .item-name {
        font-weight: 600;
        color: var(--text-dark);
    }

    .order-item .item-variant {
        font-size: 0.85rem;
        color: var(--text-light);
    }

    .order-item .item-price-quantity {
        text-align: right;
        font-size: 0.9rem;
        color: var(--text-light);
    }

    .order-item .item-total {
        font-weight: 600;
        font-size: 1rem;
    }

/* Mobile Responsive */
@media (max-width: 992px) {
    .account-container, .order-detail-container {
        grid-template-columns: 1fr;
    }

    .account-nav, .order-detail-sidebar {
        position: static;
    }

    .account-content {
        padding: 1.5rem;
    }
}
.btn-cancel-order {
    display: inline-block;
    padding: 8px 15px;
    background-color: var(--status-failed-text); /* Màu đỏ */
    color: var(--white);
    text-decoration: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    transition: background-color 0.2s;
}

    .btn-cancel-order:hover {
        background-color: #c82333; /* Đỏ đậm hơn */
    }

/* === STYLE HỘP THÔNG BÁO TRẠNG THÁI (MỚI) === */
.status-alert {
    padding: 1rem;
    border-radius: var(--radius-md);
    text-align: center;
    font-weight: 600;
    margin-bottom: 2rem;
    border: 1px solid;
}

/* --- ĐỊNH NGHĨA RIÊNG CHO STATUS ALERT --- */

.status-failed {
    background-color: var(--status-failed-bg);
    color: var(--status-failed-text);
    border-color: var(--status-failed-text); /* Đã thêm border */
}
/* ================================================= */
/* === NÚT YÊU CẦU HOÀN HÀNG & ALERT TRẠNG THÁI  === */
/* ================================================= */

/* Nút YÊU CẦU HOÀN HÀNG – cùng style với btn-cancel-order nhưng dùng màu xanh */
.btn-return-order {
    display: inline-block;
    padding: 8px 15px;
    background-color: var(--status-pending-text); /* Xanh dương (đang chờ/xử lý) */
    color: var(--white);
    text-decoration: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    transition: background-color 0.2s;
    border: none;
    cursor: pointer;
}

    .btn-return-order:hover {
        background-color: #0056b3; /* Xanh đậm hơn một chút */
        color: var(--white);
    }

/* Giữa 2 nút cho đỡ dính nhau (đề phòng trong header) */
.order-detail-header .btn-cancel-order + .btn-return-order {
    margin-left: 8px;
}

/* --- Màu cho ALERT: Yêu cầu hoàn hàng / Hoàn hàng --- */
/* Lưu ý: SCOPED theo .status-alert để không làm hư .status-badge trong bảng */

.status-alert.status-info {
    background-color: var(--status-pending-bg); /* xanh nhạt */
    color: var(--status-pending-text); /* xanh dương */
    border-color: var(--status-pending-text);
}

.status-alert.status-success {
    background-color: var(--status-delivered-bg); /* xanh lá nhạt (Hoàn thành) */
    color: var(--status-delivered-text);
    border-color: var(--status-delivered-text);
}

/* Thêm border rõ hơn cho alert ĐÃ HỦY (tận dụng màu sẵn) */
.status-alert.status-danger {
    background-color: var(--status-cancelled-bg);
    color: var(--status-cancelled-text);
    border-color: var(--status-cancelled-text);
}
/* ================================================= */
/* === MÀU STEP 4 THEO TRẠNG THÁI ĐƠN HÀNG (MỚI) === */
/* ================================================= */

/* 
   Khi khách GỬI YÊU CẦU HOÀN HÀNG (ReturnRequested)
   → step 4 sẽ chuyển sang cam để dễ nhận biết 
*/
.order-status-tracker .status-step.step-return-requested.active .step-icon {
    background-color: #ff9800 !important; /* Cam */
}

.order-status-tracker .status-step.step-return-requested.active .step-label {
    color: #ff9800 !important;
}

/* 
   Khi đơn đã HOÀN HÀNG xong (Returned)
   → step 4 xanh lá đậm hơn để phân biệt với Delivered 
*/
.order-status-tracker .status-step.step-returned.active .step-icon {
    background-color: #2e7d32 !important; /* Xanh lá đậm */
}

.order-status-tracker .status-step.step-returned.active .step-label {
    color: #2e7d32 !important;
}
/* ReturnRequested: Yêu cầu hoàn hàng (TRẠNG THÁI MỚI) */
.status-returnrequested {
    background-color: #fff3cd; /* vàng nhạt */
    color: #856404; /* nâu vàng */
    border-color: #ffc107;
}

.status-returned {
    background-color: #e5d7ff; /* Tím nhạt */
    color: #6f42c1; /* Tím đậm */
    border-color: #6f42c1;
}
